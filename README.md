# Java Readme

## 电梯调度策略

电梯的调度策略与作业指导书相同，下面对同质请求的情况进行明确：

请求类型共分为三类：ER，FR-UP，FR-DOWN

某条请求A的同质请求指的是在发出请求的时间在请求A发出后且在A执行完毕之间、且请求类型和目标楼层与请求A相同的请求

## 输入要求

### 合法请求的定义

合法请求需要符合以下要求，如果输入了不合法的请求，程序报错，该请求将被抛弃

报错格式：

```
INVALID[去除所有空格的输入内容]
```

中括号内的内容为去除了所有空格的原输入内容，先导零和符号等不作处理

#### 1. 语法要求

语法合法的请求包括以下三种：

(FR,(FLOOR),UP,(TIME))
(FR,(FLOOR),DOWN,(TIME))
(ER,(FLOOR),(TIME))

输入中的半角空格将被忽略，全角空格和TAB等将不被忽略而作为非法输入

其中，FLOOR的格式为：一个可选的正号+一个可以包括前导零但是包括前导零的总数字位数为1~2位的数字，FLOOR的范围为1~10之间的整数

TIME的格式：一个可选的正号+一个可以包括前导零但是包括前导零的总数字位数为1~10位的数字，TIME的范围为0~2^32-1，且TIME必须为整数不支持小数

#### 2. 指令顺序和含义的要求

有效请求序列必须是从0时刻开始的、时间不减的一系列请求，无效的请求将被抛弃

有效请求队列中的第一条必须为`(FR,1,UP,0)`

例：输入的指令序列A中每一条指令的TIME所对应的请求发出时间分别为：

```
A[1] 5
A[2] 7
A[3] 0
A[4] 1
......
```

则A[3]之前的指令序列，即使符合语法要求，也将被抛弃

此外，0层的FR DOWN请求和10层的FR UP请求不合法，

另外，本程序规定：只能输入100条请求，包括有效和无效请求在内，如果已经读入了100条指令，即使没有"RUN",也将强制开始执行。

如果已经读到"RUN"，则"RUN"输入的内容将被抛弃，如果"RUN"前没有有效指令，则电梯无动作，即无内容输出。

如果输入指令不到100行且没有输入RUN，本地测试会一直等待下一行输入，而在线测试到达文件尾结束。当在线测试到达文件尾时，即使没有RUN，也将强制开始执行

## 输出

输入的请求分为三类：

1.不合法的请求，参见上一节

2.合法的同质请求，参见第一节

3.合法的、且与其之前指令不同质的指令

这一部分的指令，包括普通请求和捎带请求

根据指令类型的不同，输出分别如下：

1.不合法的请求：

报INVALID错误，详见上一节

2.合法的同质请求，参见第一节

只输出SAME和同质指令，格式如下：

```
如果为FR指令：
#SAME[FR,(FLOOR),UP,(TIME)]
#SAME[FR,(FLOOR),UP,(TIME)]
如果为ER指令
#SAME[ER,(FLOOR),(TIME)]
```
FR为请求的楼层，TIME为请求的时间，数值上与输入的指令相等同，但输出的仅为纯数字，不包括符号和前导零

报SAME错误时，内部的指令格式参见作业指导书

3.合法的、且与其之前指令不同质的指令

输出电梯的运行状态，输出格式详见作业指导书

## 其它未详尽部分，皆继承作业指导书的要求
