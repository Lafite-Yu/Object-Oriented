<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>RequestsQueue.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">(default package) (2018-6-6 14:39:43)</a> &gt; <a href="../../index.html" class="el_group">Jacoco</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">RequestsQueue.java</span></div><h1>RequestsQueue.java</h1><pre class="source lang-java linenums">public class RequestsQueue
{
    /** @OVERVIEW: 用于存储产生的请求，调度器通过从该类中取出得到请求并开始进行调度
     * @INHERIT: None
     * @INVARIANT: None
     */
    private long[] requestType;
    private long[] floor;
    private long[] time;
    private long[] flag; // 初始化为0，0代表有效
    private int start, end;

    /** @REQUIRES:  None;
     * @MODIFIES: None;
     * @EFFECTS: None;
     */
    public boolean repOK()
    {
//        if (end &gt;= start &amp;&amp; requestType != null &amp;&amp; floor != null &amp;&amp; time != null &amp;&amp; flag != null)
////            return true;
////        else
////            return false;
<span class="fc" id="L23">        return true;</span>
    }

    /** @REQUIRES:  None;
     * @MODIFIES: this.requestType, this.floor, this.time, this.flag, this.start, this.end;
     * @EFFECTS: None;
     */
<span class="fc" id="L30">    public RequestsQueue()</span>
    {
<span class="fc" id="L32">        requestType = new long[120];</span>
<span class="fc" id="L33">        floor = new long[120];</span>
<span class="fc" id="L34">        time = new long[120];</span>
<span class="fc" id="L35">        flag = new long[120];</span>
<span class="fc" id="L36">        start = 0;</span>
<span class="fc" id="L37">        end = 0;</span>
<span class="fc" id="L38">    }</span>

    /** @REQUIRES:  None;
     * @MODIFIES: None;
     * @EFFECTS: \result == (this.size &lt;= current);
     */
    public boolean isEmpty(int current)
    {
<span class="fc bfc" id="L46" title="All 2 branches covered.">        return end &lt;= current;</span>
    }

    /** @REQUIRES:  None;
     * @MODIFIES: None;
     * @EFFECTS: \result == (this.size &lt;= 0);
     */
    public boolean isEmpty()
    {
<span class="fc bfc" id="L55" title="All 2 branches covered.">        return end &lt;= start;</span>
    }

    /** @REQUIRES:  info.size == 3;
     *              info[0] == 0 || info[0] == 1 || info[0] == 2;
     *              1 &lt;= info[1] &lt;= 10;
     *              info[2] &gt;= 0;
     * @MODIFIES: this;
     * @EFFECTS: this.eachInfoOfTheRequest.contains(info[eachInfo]);
     *            this.eachInfoOfTheRequest.size == \old(this.eachInfoOfTheRequest.size) + 1;
     *            \result.equals(将输入的请求的信息写入类中的各个数据结构)；
     */
    public void push(long[] info)
    {
<span class="fc" id="L69">        requestType[end] = info[0];</span>
<span class="fc" id="L70">        floor[end] = info[1];</span>
<span class="fc" id="L71">        time[end] = info[2];</span>
<span class="fc" id="L72">        end += 1;</span>
<span class="fc" id="L73">    }</span>

    /** @REQUIRES:  None;
     * @MODIFIES: this;
     * @EFFECTS: !this.infoOfTheRequests.contains(this.Requests[0]);
     *            this.infoOfTheRequests.size == \old(this.eachInfoOfTheRequest.size) - 1;
     *            returnInfo.contains(eachInfoOfTheRequest[0])
     *            \result.equals(从请求队列类中弹出第一个请求的相应信息并封装);
     */
    public long[] pop()
    {

<span class="fc" id="L85">        long[] info = new long[5];</span>

<span class="fc" id="L87">        info[0] = start;</span>
<span class="fc" id="L88">        info[1] = requestType[start];</span>
<span class="fc" id="L89">        info[2] = floor[start];</span>
<span class="fc" id="L90">        info[3] = time[start];</span>
<span class="fc" id="L91">        info[4] = flag[start];</span>
<span class="fc" id="L92">        start += 1;</span>
<span class="fc" id="L93">        return info;</span>
    }

    /** @REQUIRES:  None;
     * @MODIFIES: None;
     * @EFFECTS:  this.eachInfoOfTheRequest.contains(this.Requests[i]);
     *            this.eachInfoOfTheRequest.size == \old(this.eachInfoOfTheRequest.size);
     *            returnInfo.contains(eachInfoOfTheRequest[i])
     *            \result.equals(从请求队列类中获取第i个请求的相应信息并封装，但不从队列中删除该请求);
     */
    public long[] get(int i)
    {
<span class="fc" id="L105">        long[] info = new long[5];</span>
<span class="fc" id="L106">        info[0] = i;</span>
<span class="fc" id="L107">        info[1] = requestType[i];</span>
<span class="fc" id="L108">        info[2] = floor[i];</span>
<span class="fc" id="L109">        info[3] = time[i];</span>
<span class="fc" id="L110">        info[4] = flag[i];</span>
<span class="fc" id="L111">        return info;</span>
    }

    /** @REQUIRES:  None;
     * @MODIFIES: this.flag;
     * @EFFECTS:  this.flag[i] == 1;
     */
    public void setSame(int i)
    {
<span class="fc bfc" id="L120" title="All 2 branches covered.">        if (i &lt; 0) return;</span>
<span class="fc" id="L121">        flag[i] = 1;</span>
<span class="fc" id="L122">    }</span>

    /** @REQUIRES:  0 &lt; i &lt;= end;
     * @MODIFIES: this.flag;
     * @EFFECTS:  this.flag[i] == 2;
     */
    public void setPick(int i)
    {
<span class="fc" id="L130">        flag[i] = 2;</span>
<span class="fc" id="L131">    }</span>

    /** @REQUIRES:  0 &lt; i &lt;= end;
     * @MODIFIES: this.flag;
     * @EFFECTS:  this.flag[i] == 3;
     */
    public void setComplete(int i)
    {
<span class="fc" id="L139">        flag[i] = 3;</span>
<span class="fc" id="L140">    }</span>
    /** @REQUIRES:  0 &lt; i &lt;= end;
     * @MODIFIES: this.flag;
     * @EFFECTS:  this.flag[i] == 4;
     */
    public void setSameFloor(int i)
    {
<span class="fc" id="L147">        flag[i] = 4;</span>
<span class="fc" id="L148">    }</span>

    /** @REQUIRES:  0 &lt; index &lt;= end;
     *              depth &gt; 0;
     * @MODIFIES: this.flag;
     * @EFFECTS:  this.flag[i] == 4+depth;
     */
    public void setSameFloor(int index, int depth)
    {
<span class="fc" id="L157">        flag[index] = 4 + depth;</span>
<span class="fc" id="L158">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span>(default package) (2018-6-6 14:39:43)</div></body></html>